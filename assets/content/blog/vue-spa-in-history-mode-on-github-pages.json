{
  "title": "Vue SPA in history mode on GitHub Pages?",
  "thumbnail": "/img/github.png",
  "date": "2019-11-02T19:27:31.514Z",
  "description": "When publishing a SPA application on github pages, there is a problem in working out the Github routes that they go directly to.",
  "body": "When publishing a SPA application on github pages, there is a problem in working out the Github routes that they go directly to.\n\nIf you just upload your builded SPA and then try to get any link which differ from '/', you will get the following issue...\n\n![404](/img/error.png \"Page not found in history mode\")\n\nTo resolve this issue, it is sufficient to place a **404.html** file with the following content in the dist folder (the folder generated by the _npm run build_ command)\n\n```\n<!DOCTYPE html>\n```\n\n```\n<html>\n```\n\n```\n<head>\n```\n\n```\n    <script>\n```\n\n```\n    sessionStorage.redirect = location.href;\n```\n\n```\n    </script>\n```\n\n```\n    <meta http-equiv=\"refresh\" content=\"0;URL='/'\">\n```\n\n```\n</head>\n```\n\n```\n</html>\n```\n\nAnd put the following code in the **public / index.html** file\n\n```\n(function(){\n```\n\n```\n   var redirect = sessionStorage.redirect;\n```\n\n```\n       delete sessionStorage.redirect;\n```\n\n```\n       if (redirect && redirect != location.href) {\n```\n\n```\n             history.replaceState(null, null, redirect);\n```\n\n```\n       }\n```\n\n```\n})();\n```\n\nAfter publication routes will work like clockwork :)"
}